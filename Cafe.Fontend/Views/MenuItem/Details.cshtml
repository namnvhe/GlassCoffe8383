@using Cafe.BusinessObjects.Models.Response
@model MenuItemDetailResponse
@{
	ViewData["Title"] = Model.Name;
}

<!-- breadcrumb-section -->
<div class="breadcrumb-section breadcrumb-bg">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 offset-lg-2 text-center">
				<div class="breadcrumb-text">
					<p>Xem thêm chi tiết</p>
					<h1>@Model.Name</h1>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end breadcrumb section -->

<!-- breadcrumb navigation -->
<div class="py-4">
	<div class="container">
		<div class="row">
			<div class="col-12">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb bg-transparent mb-0 p-0">
						<li class="breadcrumb-item" title="Quay về trang chủ">
							<a asp-action="Index" asp-controller="Home" class="text-decoration-none text-primary font-weight-bold">
								<i class="fas fa-home mr-1"></i>Trang chủ
							</a>
						</li>
						<li class="breadcrumb-item" title="Quay về Menu đồ uống">
							<a asp-action="Index" asp-controller="MenuItem" class="text-decoration-none text-primary font-weight-bold">
								<i class="fas fa-utensils mr-1"></i>Menu
							</a>
						</li>
						<li class="breadcrumb-item active text-dark font-weight-bold" aria-current="page">
							<i class="fas fa-coffee mr-1"></i>@Model.Name
						</li>
					</ol>
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- end breadcrumb navigation -->

<!-- single product -->
<div class="single-product mb-150">
	<div class="container">
		<div class="row">
			<div class="col-md-5">
				<div class="single-product-img">
					<img src="@Model.MenuItemImage" alt="@Model.Name" class="img-fluid mb-3">
				</div>

				<!-- Product Image Gallery -->
				@if (Model.Images != null && Model.Images.Count > 0)
				{
					<div class="product-image-gallery">
						<div class="row">
							@foreach (var image in Model.Images)
							{
								<div class="col-4 col-sm-3 mb-2">
									<div class="gallery-item">
										<img src="@image.ImagePath" alt="@Model.Name" class="img-fluid img-thumbnail" style="cursor: pointer; height: 80px; object-fit: cover;" onclick="changeMainImage('@image.ImagePath')">
									</div>
								</div>
							}
						</div>
					</div>
				}
			</div>
			<div class="col-md-7">
				<div class="single-product-content">
					<h3>@Model.Name</h3>
					<p class="single-product-pricing"><span>Giá</span> @Model.Price.ToString("N0") VNĐ</p>
					<p>@Model.Description</p>
					<div class="single-product-form">
						<form >
							<input type="number" placeholder="0">
						</form>
						<a href="#" class="cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</a>
						<p><strong>Loại đồ uống: </strong>@Model.DrinkTypeName</p>
					</div>
				</div>
			</div>
		</div>

@* 		<!-- Recipe Section -->
		@if (Model.DrinkRecipes != null && Model.DrinkRecipes.Count > 0)
		{
			<div class="row mt-5">
				<div class="col-12">
					<div class="card">
						<div class="card-header">
							<h4 class="mb-0">Công thức pha chế</h4>
						</div>
						<div class="card-body">
							@foreach (var recipe in Model.DrinkRecipes)
							{
								<div class="recipe-item mb-4">
									<h5 class="text-primary">@recipe.RecipeName</h5>
									<p class="text-muted mb-2">@recipe.Description</p>
									
									@if (recipe.Ingredients != null && recipe.Ingredients.Count > 0)
									{
										<div class="row">
											<div class="col-md-6">
												<h6>Nguyên liệu:</h6>
												<ul class="list-group list-group-flush">
													@foreach (var ingredient in recipe.Ingredients)
													{
														<li class="list-group-item d-flex justify-content-between align-items-center px-0">
															<span>@ingredient.IngredientName</span>
															<span class="badge badge-primary badge-pill">@ingredient.Quantity @ingredient.Unit</span>
														</li>
													}
												</ul>
											</div>
											<div class="col-md-6">
												@if (!string.IsNullOrEmpty(recipe.Instructions))
												{
													<h6>Hướng dẫn:</h6>
													<p class="text-justify">@recipe.Instructions</p>
												}
											</div>
										</div>
									}
									
									@if (Model.DrinkRecipes.IndexOf(recipe) < Model.DrinkRecipes.Count - 1)
									{
										<hr class="my-4">
									}
								</div>
							}
						</div>
					</div>
				</div>
			</div>
		}
		<!-- End Recipe Section --> *@
	</div>
</div>
<!-- end single product -->

<!-- more products -->
<div class="more-products mb-150">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 offset-lg-2 text-center">
				<div class="section-title">
					<h3><span class="orange-text">Đồ uống</span> liên quan</h3>
					<p>Khám phá thêm những món đồ uống được ưa chuộng của chúng tôi – hương vị đậm đà, khó quên.</p>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-4 col-md-6 text-center">
				<div class="single-product-item">
					<div class="product-image">
						<a href="single-product.html"><img src="assets/img/products/product-img-1.jpg" alt=""></a>
					</div>
					<h3>Strawberry</h3>
					<p class="product-price"><span>Per Kg</span> 85$ </p>
					<a href="cart.html" class="cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</a>
				</div>
			</div>
			<div class="col-lg-4 col-md-6 text-center">
				<div class="single-product-item">
					<div class="product-image">
						<a href="single-product.html"><img src="assets/img/products/product-img-2.jpg" alt=""></a>
					</div>
					<h3>Berry</h3>
					<p class="product-price"><span>Per Kg</span> 70$ </p>
					<a href="cart.html" class="cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</a>
				</div>
			</div>
			<div class="col-lg-4 col-md-6 offset-lg-0 offset-md-3 text-center">
				<div class="single-product-item">
					<div class="product-image">
						<a href="single-product.html"><img src="assets/img/products/product-img-3.jpg" alt=""></a>
					</div>
					<h3>Lemon</h3>
					<p class="product-price"><span>Per Kg</span> 35$ </p>
					<a href="cart.html" class="cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</a>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end more products -->

@await Component.InvokeAsync("PopularMenuItem", new { topCount = 3})

<script>
	function changeMainImage(imageUrl) {
		document.querySelector('.single-product-img img').src = imageUrl;
	}
</script>